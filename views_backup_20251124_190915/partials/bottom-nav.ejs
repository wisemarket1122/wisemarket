<!-- 모바일/PC 공통 하단 네비게이션 + 글쓰기 버튼 -->

<!-- 글쓰기 플로팅 버튼 -->
<button type="button" class="write-fab" id="writeFab">
  <!-- 글쓰기 아이콘 (주황색) -->
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
    fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
    <path
      d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
    <path fill-rule="evenodd"
      d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z" />
  </svg>
</button>

<!-- 글쓰기 메뉴 (장터 / 게시판) - 아이콘 위쪽에 뜨도록 -->
<div class="write-menu" id="writeMenu">
  <a href="/market/new">장터 글쓰기</a>
  <!-- 예시로 1번 보드에 새 글쓰기 -->
  <a href="/community/1/new">게시판 글쓰기</a>
</div>

<!-- 하단바 본체 -->
<nav class="bottom-nav">
  <div class="bottom-nav-inner">
    <!-- 홈 -->
    <a href="/" class="nav-item">
      <span class="icon">
        <!-- 흰색 홈 아이콘 -->
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
          fill="currentColor" class="bi bi-house-door-fill"
          viewBox="0 0 16 16">
          <path
            d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5" />
        </svg>
      </span>
      <span class="label">홈</span>
    </a>

    <!-- 채팅 -->
    <a href="/chat" class="nav-item">
      <span class="icon">
        <!-- 흰색 채팅 아이콘 -->
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
          fill="currentColor" class="bi bi-chat-left-dots"
          viewBox="0 0 16 16">
          <path
            d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
          <path
            d="M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0" />
        </svg>
      </span>
      <span class="label">채팅</span>
    </a>

    <!-- 마이페이지 -->
    <a href="/mypage" class="nav-item">
      <span class="icon">
        <!-- 흰색 마이페이지(사람) 아이콘 -->
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
          fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
          <path
            d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
        </svg>
      </span>
      <span class="label">마이페이지</span>
    </a>
  </div>
</nav>

<script>
  (function () {
    const fab = document.getElementById("writeFab");
    const menu = document.getElementById("writeMenu");

    if (!fab || !menu) return;

    // 글쓰기 버튼 눌렀을 때 위로 메뉴 뜨기
    fab.addEventListener("click", function (e) {
      e.stopPropagation();
      menu.classList.toggle("show");
    });

    // 바깥 아무 데나 누르면 메뉴 닫기
    document.addEventListener("click", function (e) {
      if (!menu.contains(e.target) && !fab.contains(e.target)) {
        menu.classList.remove("show");
      }
    });
  })();
</script>

